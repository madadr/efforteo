<div class="mt-2 mx-3">

  <app-alerts></app-alerts>
  <div class="jumbotron border-left border-white">
    <h3 class="text-center">Community</h3>
    <hr/>

    <app-loader *ngIf="toggleService.isShown(onCreateLoaderName)"
                class="my-3 d-flex justify-content-center"
                size="100"></app-loader>
    <div *ngIf="!toggleService.isShown(onCreateLoaderName)">
      <div *ngIf="(!accountList || accountList.length == 0) && accountsAvailable">
        <h5>No accounts to display</h5>
      </div>
      <div *ngIf="!accountList && !accountsAvailable">
        <h5>Could not fetch account data.</h5>
        <button (click)="loadAccountList()" class="btn btn-outline-success btn-sm">Refresh</button>
      </div>
      <div *ngIf="accountList && accountList.length > 0">
        <div class="list-group">
          <div class="list-group-item active">
            Users list
          </div>
          <a *ngFor="let account of accountList" routerLink="/show-profile/{{account.id}}"
             class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <div>
              <img class="align-self-start mr-3 border rounded-circle border-primary" src="../../assets/profile.png"
                   alt="profile-picture"
                   style="width: 24px; height: 24px; border-width:2px !important">{{account.name}} <span class="text-secondary font-weight-light">{{account.location === null || account.location == '' ? '' : '(' + account.location + ')'}}</span>
            </div>
            <span class="btn btn-sm btn-outline-primary">Profile</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
